<script type="text/javascript">
    RED.nodes.registerType('pi-camera-stream', {
        category: 'Raspberry Pi',
        color: '#c6dbef',
        icon: 'icons/node-red/rpi.svg',
        inputs: 1,
        outputs: 1,
        defaults: {
            name: { value: '' },
            host: {
                value: RED.settings.uiHost + ':' + RED.settings.uiPort,
                required: true,
                validate: RED.validators.regex(
                    /^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])(\:\d{1,5}){0,1}$/
                ),
            },
        },
        label: function () {
            return this.name || 'pi-camera-stream';
        },
    });
</script>

<script type="text/html" data-template-name="pi-camera-stream">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name" />
    </div>
    <div class="form-row">
        <label for="node-input-host"><i class="fa fa-tag"></i> Host</label>
        <input
            type="text"
            id="node-input-host"
            placeholder="Host"
            value="{{RED.settings.uiHost + ':' + RED.settings.uiPort}}"
        />
    </div>
</script>

<script type="text/html" data-help-name="pi-camera-stream">
    <p>Save pi camera stream into file and return filepath.</p>
</script>
